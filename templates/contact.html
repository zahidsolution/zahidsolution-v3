<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{{ seo.title }}</title>
<meta name="description" content="{{ seo.description }}">
<meta name="keywords" content="{{ seo.keywords }}">
<link rel="icon" href="/static/favicon.png" type="image/png">

<!-- Open Graph & Twitter Card -->
<meta property="og:type" content="website">
<meta property="og:title" content="{{ seo.title }}">
<meta property="og:description" content="{{ seo.description }}">
<meta property="og:image" content="/static/logo.png">
<meta property="og:url" content="{{ request.url }}">
<meta name="twitter:card" content="summary_large_image">

<!-- Structured Data JSON-LD -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ContactPage",
  "name": "{{ seo.title }}",
  "url": "{{ request.url }}",
  "description": "{{ seo.description }}",
  "contactOption": [
    {"@type": "ContactPoint","telephone": "+923000079078","contactType": "Customer Support","areaServed": "PK"},
    {"@type": "ContactPoint","email": "zahidsolutions360@gmail.com","contactType": "Email Support"}
  ]
}
</script>

<!-- CSS Libraries -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

<style>
/* Additional Styling */
.btn-custom {background: linear-gradient(90deg, #0d6efd, #6610f2); color: #fff; font-weight: 600;}
.btn-custom:hover {opacity: 0.9;}
.card-shadow {box-shadow:0 4px 12px rgba(0,0,0,0.1); transition:0.3s;}
.card-shadow:hover {transform: translateY(-5px);}
footer {text-align:center; padding:20px; background:#f8f9fa;}
#backToTop {position:fixed; bottom:30px; right:30px; display:none; z-index:1000;}
</style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm">
  <div class="container">
    <a class="navbar-brand fw-bold" href="/">ZahidSolution</a>
    <button class="navbar-toggler text-white" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="/services">Services</a></li>
        <li class="nav-item"><a class="nav-link" href="/portfolio">Portfolio</a></li>
        <li class="nav-item"><a class="nav-link active" href="/contact">Contact</a></li>
        <li class="nav-item"><a class="nav-link" href="/feedback">Feedback</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- AI Voice Greeting -->
<audio id="aiGreeting" autoplay hidden>
  <source src="/static/ai_greetings/greeting1.mp3" type="audio/mpeg">
</audio>

<!-- Back to Top Button -->
<button id="backToTop" class="btn btn-primary btn-lg"><i class="bi bi-arrow-up"></i></button>

<!-- Contact Section -->
<section class="py-5 text-center">
  <div class="container">
    <h2 data-aos="fade-up">Contact Us</h2>
    <p class="text-muted mb-4" data-aos="fade-up" data-aos-delay="100">
      We're here to help! Fill out the form below or connect directly.
    </p>

    <!-- Quick Contact Buttons -->
    <div class="d-flex flex-wrap justify-content-center gap-3 mb-5" data-aos="zoom-in">
      <a href="https://wa.me/923000079078?text=Hello%20ZahidSolution!" target="_blank" class="btn btn-success btn-lg d-flex align-items-center gap-2">
        <i class="bi bi-whatsapp"></i> Connect via WhatsApp
      </a>
      <a href="tel:+923000079078" class="btn btn-primary btn-lg">ðŸ“ž Call Us</a>
      <a href="mailto:zahidsolutions360@gmail.com" class="btn btn-warning btn-lg">ðŸ“§ Email Us</a>
    </div>

    <!-- Contact Form -->
    <div class="row justify-content-center">
      <div class="col-md-6" data-aos="fade-up" data-aos-delay="200">
        <form method="POST" id="contactForm" class="p-4 shadow bg-light rounded">
          <input type="text" name="honeypot" style="display:none">
          <div class="mb-3"><label class="form-label">Name</label><input type="text" name="name" class="form-control" placeholder="Enter your name" required></div>
          <div class="mb-3"><label class="form-label">Email</label><input type="email" name="email" class="form-control" placeholder="Enter your email" required></div>
          <div class="mb-3"><label class="form-label">Phone</label><input type="text" name="phone" class="form-control" placeholder="Enter your phone (optional)"></div>
          <div class="mb-3"><label class="form-label">Subject</label><input type="text" name="subject" class="form-control" placeholder="Subject"></div>
          <div class="mb-3"><label class="form-label">Message</label><textarea name="message" rows="4" class="form-control" placeholder="Write your message" required></textarea></div>
          <button type="submit" class="btn btn-custom w-100">Send Message</button>
        </form>
      </div>
    </div>
  </div>
</section>

<!-- Recent Feedback -->
<section class="py-5 bg-light">
  <div class="container">
    <h3 class="text-center mb-4">Recent Feedback</h3>
    <div class="row justify-content-center">
      {% if feedbacks %}
        {% for fb in feedbacks %}
          <div class="col-md-6 mb-3">
            <div class="card card-shadow">
              <div class="card-body">
                <h5 class="card-title">{{ fb[0] }} <small class="text-muted">({{ fb[1] }})</small></h5>
                {% if fb[2] %}<p><b>Phone:</b> {{ fb[2] }}</p>{% endif %}
                <p class="card-text">{{ fb[3] }}</p>
                <small class="text-muted">Sent on {{ fb[4] }}</small>
              </div>
            </div>
          </div>
        {% endfor %}
      {% else %}
        <p class="text-muted text-center">No feedback yet.</p>
      {% endif %}
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="bg-dark text-white py-3 text-center">
  <p>&copy; <span id="year"></span> ZahidSolution | All Rights Reserved</p>
</footer>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
AOS.init();

// Back to Top
const backToTop = document.getElementById('backToTop');
window.onscroll = () => { backToTop.style.display = (window.scrollY > 300) ? 'block' : 'none'; }
backToTop.onclick = () => { window.scrollTo({top:0, behavior:'smooth'}); }

// Auto WhatsApp Reply
document.getElementById('contactForm').addEventListener('submit', function(e){
  setTimeout(()=>{
    const form = this;
    const name = form.name.value, email = form.email.value, phone = form.phone.value, subject = form.subject.value, message = form.message.value;
    const autoReply = `Hello ${name},\n\nThank you for contacting Zahid Hussain! ðŸŒŸ\nOur team will reach out shortly.\nMeanwhile, you can add more details.`;
    const whatsappUrl = `https://wa.me/923000079078?text=${encodeURIComponent(autoReply)}%0A%0AUser Info:%0AName: ${encodeURIComponent(name)}%0AEmail: ${encodeURIComponent(email)}%0APhone: ${encodeURIComponent(phone)}%0ASubject: ${encodeURIComponent(subject)}%0AMessage: ${encodeURIComponent(message)}`;
    window.open(whatsappUrl, '_blank');
  },
             800);
});

// Auto Year in Footer
document.getElementById('year').innerText = new Date().getFullYear();

// AI Voice Greetings - Multiple Options
const greetings = [
  "Hello! Welcome to Zahid Hussain's Contact Page. We're excited to hear from you!",
  "Hi there! Want to talk with Zahid Hussain? You can connect via WhatsApp or call directly.",
  "Greetings! Zahid Hussain is ready to help you. Send a message and get a quick reply.",
  "Welcome! You're on Zahid Hussain's page. Share your thoughts or queries anytime!"
];

function playRandomGreeting() {
  const audio = document.getElementById('aiGreeting');
  const randomIndex = Math.floor(Math.random() * greetings.length);
  // Use Web Speech API to convert text to speech
  if ('speechSynthesis' in window) {
    const utterance = new SpeechSynthesisUtterance(greetings[randomIndex]);
    utterance.rate = 1;
    utterance.pitch = 1;
    speechSynthesis.speak(utterance);
  } else {
    audio.play(); // fallback audio
  }
}
window.addEventListener('load', playRandomGreeting);
</script>

</body>
</html>
